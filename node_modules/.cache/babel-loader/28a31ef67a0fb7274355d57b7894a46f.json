{"ast":null,"code":"import _objectSpread from \"/Users/lwang9/Work/workspace1/react-lifecycle/node_modules/@babel/runtime/helpers/esm/objectSpread\";\nimport _classCallCheck from \"/Users/lwang9/Work/workspace1/react-lifecycle/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/lwang9/Work/workspace1/react-lifecycle/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/lwang9/Work/workspace1/react-lifecycle/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/lwang9/Work/workspace1/react-lifecycle/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/lwang9/Work/workspace1/react-lifecycle/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/Users/lwang9/Work/workspace1/react-lifecycle/src/components/LifeCycle/Clock.js\";\nimport React from 'react';\nimport classNames from 'classnames';\nimport './Demo.less';\n\nvar Demo =\n/*#__PURE__*/\nfunction (_React$PureComponent) {\n  _inherits(Demo, _React$PureComponent);\n\n  function Demo(props) {\n    var _this;\n\n    _classCallCheck(this, Demo);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(Demo).call(this, props));\n\n    _this.getClock = function () {\n      var currentTime = new Date();\n      return {\n        hours: currentTime.getHours(),\n        minutes: currentTime.getMinutes(),\n        seconds: currentTime.getSeconds(),\n        ampm: currentTime.getHours() >= 12 ? \"pm\" : \"am\"\n      };\n    };\n\n    _this.setTimer = function () {\n      _this.timer = setTimeout(_this.updateClock, 1000);\n    };\n\n    _this.updateClock = function () {\n      _this.setState({\n        clock: _this.getClock()\n      });\n    };\n\n    _this.state = {\n      clock: _this.getClock(),\n      color: 'blue'\n    };\n    console.log('%cconstructor', 'color:#45a162');\n    return _this;\n  } //enable a component to update its internal state as the result of changes in props\n\n\n  _createClass(Demo, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      this.setTimer();\n      console.log('%ccomponentDidMount', 'color:#45a162');\n    }\n  }, {\n    key: \"componentDidUpdate\",\n    value: function componentDidUpdate() {\n      this.setTimer();\n      console.log('componentDidUpdate');\n    }\n  }, {\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      this.timer && clearTimeout(this.timer);\n      console.log('%ccomponentWillUnmount', 'color:#45a162');\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this$state = this.state,\n          _this$state$clock = _this$state.clock,\n          hours = _this$state$clock.hours,\n          minutes = _this$state$clock.minutes,\n          seconds = _this$state$clock.seconds,\n          ampm = _this$state$clock.ampm,\n          color = _this$state.color;\n      console.log('render');\n      return React.createElement(\"div\", {\n        className: classNames('demo', color),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 65\n        },\n        __self: this\n      }, \"\".concat(hours, \" : \").concat(minutes, \" : \").concat(seconds, \" \").concat(ampm));\n    }\n  }], [{\n    key: \"getDerivedStateFromProps\",\n    value: function getDerivedStateFromProps(props, state) {\n      if (props.color !== state.color) {\n        return _objectSpread({}, state, {\n          color: props.color\n        });\n      }\n    }\n  }]);\n\n  return Demo;\n}(React.PureComponent);\n\nexport default Demo;","map":{"version":3,"sources":["/Users/lwang9/Work/workspace1/react-lifecycle/src/components/LifeCycle/Clock.js"],"names":["React","classNames","Demo","props","getClock","currentTime","Date","hours","getHours","minutes","getMinutes","seconds","getSeconds","ampm","setTimer","timer","setTimeout","updateClock","setState","clock","state","color","console","log","clearTimeout","PureComponent"],"mappings":";;;;;;;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,UAAP,MAAuB,YAAvB;AACA,OAAO,aAAP;;IAEMC,I;;;;;AACJ,gBAAYC,KAAZ,EAAmB;AAAA;;AAAA;;AACjB,8EAAMA,KAAN;;AADiB,UAmCnBC,QAnCmB,GAmCR,YAAM;AACf,UAAMC,WAAW,GAAG,IAAIC,IAAJ,EAApB;AACA,aAAO;AACLC,QAAAA,KAAK,EAAEF,WAAW,CAACG,QAAZ,EADF;AAELC,QAAAA,OAAO,EAAEJ,WAAW,CAACK,UAAZ,EAFJ;AAGLC,QAAAA,OAAO,EAAEN,WAAW,CAACO,UAAZ,EAHJ;AAILC,QAAAA,IAAI,EAAER,WAAW,CAACG,QAAZ,MAA0B,EAA1B,GAA+B,IAA/B,GAAsC;AAJvC,OAAP;AAMD,KA3CkB;;AAAA,UA6CnBM,QA7CmB,GA6CR,YAAM;AACf,YAAKC,KAAL,GAAaC,UAAU,CAAC,MAAKC,WAAN,EAAmB,IAAnB,CAAvB;AACD,KA/CkB;;AAAA,UAiDnBA,WAjDmB,GAiDL,YAAM;AAClB,YAAKC,QAAL,CAAc;AACZC,QAAAA,KAAK,EAAE,MAAKf,QAAL;AADK,OAAd;AAGD,KArDkB;;AAEjB,UAAKgB,KAAL,GAAa;AACXD,MAAAA,KAAK,EAAE,MAAKf,QAAL,EADI;AAEXiB,MAAAA,KAAK,EAAE;AAFI,KAAb;AAIAC,IAAAA,OAAO,CAACC,GAAR,CAAY,eAAZ,EAA6B,eAA7B;AANiB;AAOlB,G,CAED;;;;;wCAUoB;AAClB,WAAKT,QAAL;AACAQ,MAAAA,OAAO,CAACC,GAAR,CAAY,qBAAZ,EAAmC,eAAnC;AACD;;;yCAEoB;AACnB,WAAKT,QAAL;AACAQ,MAAAA,OAAO,CAACC,GAAR,CAAY,oBAAZ;AACD;;;2CAEsB;AACrB,WAAKR,KAAL,IAAcS,YAAY,CAAC,KAAKT,KAAN,CAA1B;AACAO,MAAAA,OAAO,CAACC,GAAR,CAAY,wBAAZ,EAAsC,eAAtC;AACD;;;6BAuBQ;AAAA,wBACqD,KAAKH,KAD1D;AAAA,0CACCD,KADD;AAAA,UACUZ,KADV,qBACUA,KADV;AAAA,UACiBE,OADjB,qBACiBA,OADjB;AAAA,UAC0BE,OAD1B,qBAC0BA,OAD1B;AAAA,UACmCE,IADnC,qBACmCA,IADnC;AAAA,UAC2CQ,KAD3C,eAC2CA,KAD3C;AAEPC,MAAAA,OAAO,CAACC,GAAR,CAAY,QAAZ;AACA,aACE;AAAK,QAAA,SAAS,EAAEtB,UAAU,CAAC,MAAD,EAASoB,KAAT,CAA1B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mBAA+Cd,KAA/C,gBAA0DE,OAA1D,gBAAuEE,OAAvE,cAAkFE,IAAlF,EADF;AAGD;;;6CAnD+BV,K,EAAOiB,K,EAAO;AAC5C,UAAIjB,KAAK,CAACkB,KAAN,KAAgBD,KAAK,CAACC,KAA1B,EAAiC;AAC/B,iCACKD,KADL;AAEEC,UAAAA,KAAK,EAAElB,KAAK,CAACkB;AAFf;AAID;AACF;;;;EAlBgBrB,KAAK,CAACyB,a;;AAiEzB,eAAevB,IAAf","sourcesContent":["import React from 'react';\nimport classNames from 'classnames';\nimport './Demo.less';\n\nclass Demo extends React.PureComponent {\n  constructor(props) {\n    super(props);\n    this.state = {\n      clock: this.getClock(),\n      color: 'blue'\n    }\n    console.log('%cconstructor', 'color:#45a162');\n  }\n\n  //enable a component to update its internal state as the result of changes in props\n  static getDerivedStateFromProps(props, state) {\n    if (props.color !== state.color) {\n      return {\n        ...state,\n        color: props.color\n      }\n    }\n  }\n\n  componentDidMount() {\n    this.setTimer();\n    console.log('%ccomponentDidMount', 'color:#45a162');\n  }\n\n  componentDidUpdate() {\n    this.setTimer();\n    console.log('componentDidUpdate');\n  }\n\n  componentWillUnmount() {\n    this.timer && clearTimeout(this.timer);\n    console.log('%ccomponentWillUnmount', 'color:#45a162');\n  }\n  \n\n  getClock = () => {\n    const currentTime = new Date();\n    return {\n      hours: currentTime.getHours(),\n      minutes: currentTime.getMinutes(),\n      seconds: currentTime.getSeconds(),\n      ampm: currentTime.getHours() >= 12 ? \"pm\" : \"am\"\n    };\n  }\n\n  setTimer = () => {\n    this.timer = setTimeout(this.updateClock, 1000);\n  }\n\n  updateClock = () => {\n    this.setState({\n      clock: this.getClock()\n    })\n  }\n\n  render() {\n    const { clock: { hours, minutes, seconds, ampm }, color } = this.state;\n    console.log('render');\n    return (\n      <div className={classNames('demo', color)}>{`${hours} : ${minutes} : ${seconds} ${ampm}`}</div>\n    );\n  }\n}\n\nexport default Demo;"]},"metadata":{},"sourceType":"module"}