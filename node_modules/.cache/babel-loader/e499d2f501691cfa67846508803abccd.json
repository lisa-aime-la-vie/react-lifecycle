{"ast":null,"code":"import _objectSpread from \"/Users/lwang9/Work/workspace1/react-lifecycle/node_modules/@babel/runtime/helpers/esm/objectSpread\";\nimport _classCallCheck from \"/Users/lwang9/Work/workspace1/react-lifecycle/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/lwang9/Work/workspace1/react-lifecycle/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/lwang9/Work/workspace1/react-lifecycle/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/lwang9/Work/workspace1/react-lifecycle/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/lwang9/Work/workspace1/react-lifecycle/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/Users/lwang9/Work/workspace1/react-lifecycle/src/components/LifeCycle/Clock.js\";\nimport React from 'react';\nimport classNames from 'classnames';\nimport './Clock.less';\n\nvar Clock =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(Clock, _React$Component);\n\n  function Clock(props) {\n    var _this;\n\n    _classCallCheck(this, Clock);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(Clock).call(this, props));\n\n    _this.getClock = function () {\n      var currentTime = new Date();\n      return {\n        hours: currentTime.getHours(),\n        minutes: currentTime.getMinutes(),\n        seconds: currentTime.getSeconds(),\n        ampm: currentTime.getHours() >= 12 ? \"pm\" : \"am\"\n      };\n    };\n\n    _this.setTimer = function () {\n      _this.timer = setTimeout(_this.updateClock, 1000);\n    };\n\n    _this.updateClock = function () {\n      _this.setState({\n        clock: _this.getClock()\n      });\n    };\n\n    _this.state = {\n      clock: _this.getClock()\n    };\n    console.log('%cconstructor', 'color:#45a162');\n    return _this;\n  } //enable a component to update its internal state as the result of changes in props\n\n\n  _createClass(Clock, [{\n    key: \"shouldComponentUpdate\",\n    //only exists as a performance optimization, use PureComponent(shallow comparison of props and state)\n    value: function shouldComponentUpdate(nextProps, nextState) {\n      console.log('%cshouldComponentUpdate', 'color:#ffb934');\n      return nextProps.color !== this.props.color;\n    }\n  }, {\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      this.setTimer();\n      console.log('%ccomponentDidMount', 'color:#45a162');\n    }\n  }, {\n    key: \"componentDidUpdate\",\n    value: function componentDidUpdate() {\n      this.setTimer();\n      console.log('componentDidUpdate');\n    }\n  }, {\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      this.timer && clearTimeout(this.timer);\n      console.log('%ccomponentWillUnmount', 'color:#45a162');\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this$state = this.state,\n          _this$state$clock = _this$state.clock,\n          hours = _this$state$clock.hours,\n          minutes = _this$state$clock.minutes,\n          seconds = _this$state$clock.seconds,\n          ampm = _this$state$clock.ampm,\n          color = _this$state.color;\n      console.log('render');\n      return React.createElement(\"div\", {\n        className: classNames('clock', color),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 71\n        },\n        __self: this\n      }, \"\".concat(hours, \" : \").concat(minutes, \" : \").concat(seconds, \" \").concat(ampm));\n    }\n  }], [{\n    key: \"getDerivedStateFromProps\",\n    value: function getDerivedStateFromProps(props, state) {\n      console.log('%cgetDerivedStateFromProps', 'color:#ffb934');\n\n      if (props.color !== state.color) {\n        return _objectSpread({}, state, {\n          color: props.color\n        });\n      }\n    }\n  }]);\n\n  return Clock;\n}(React.Component);\n\nexport default Clock;","map":{"version":3,"sources":["/Users/lwang9/Work/workspace1/react-lifecycle/src/components/LifeCycle/Clock.js"],"names":["React","classNames","Clock","props","getClock","currentTime","Date","hours","getHours","minutes","getMinutes","seconds","getSeconds","ampm","setTimer","timer","setTimeout","updateClock","setState","clock","state","console","log","nextProps","nextState","color","clearTimeout","Component"],"mappings":";;;;;;;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,UAAP,MAAuB,YAAvB;AACA,OAAO,cAAP;;IAEMC,K;;;;;AACJ,iBAAYC,KAAZ,EAAmB;AAAA;;AAAA;;AACjB,+EAAMA,KAAN;;AADiB,UAyCnBC,QAzCmB,GAyCR,YAAM;AACf,UAAMC,WAAW,GAAG,IAAIC,IAAJ,EAApB;AACA,aAAO;AACLC,QAAAA,KAAK,EAAEF,WAAW,CAACG,QAAZ,EADF;AAELC,QAAAA,OAAO,EAAEJ,WAAW,CAACK,UAAZ,EAFJ;AAGLC,QAAAA,OAAO,EAAEN,WAAW,CAACO,UAAZ,EAHJ;AAILC,QAAAA,IAAI,EAAER,WAAW,CAACG,QAAZ,MAA0B,EAA1B,GAA+B,IAA/B,GAAsC;AAJvC,OAAP;AAMD,KAjDkB;;AAAA,UAmDnBM,QAnDmB,GAmDR,YAAM;AACf,YAAKC,KAAL,GAAaC,UAAU,CAAC,MAAKC,WAAN,EAAmB,IAAnB,CAAvB;AACD,KArDkB;;AAAA,UAuDnBA,WAvDmB,GAuDL,YAAM;AAClB,YAAKC,QAAL,CAAc;AACZC,QAAAA,KAAK,EAAE,MAAKf,QAAL;AADK,OAAd;AAGD,KA3DkB;;AAEjB,UAAKgB,KAAL,GAAa;AACXD,MAAAA,KAAK,EAAE,MAAKf,QAAL;AADI,KAAb;AAGAiB,IAAAA,OAAO,CAACC,GAAR,CAAY,eAAZ,EAA6B,eAA7B;AALiB;AAMlB,G,CAED;;;;;AAWA;0CACsBC,S,EAAWC,S,EAAW;AAC1CH,MAAAA,OAAO,CAACC,GAAR,CAAY,yBAAZ,EAAuC,eAAvC;AACA,aAAOC,SAAS,CAACE,KAAV,KAAoB,KAAKtB,KAAL,CAAWsB,KAAtC;AACD;;;wCAEmB;AAClB,WAAKX,QAAL;AACAO,MAAAA,OAAO,CAACC,GAAR,CAAY,qBAAZ,EAAmC,eAAnC;AACD;;;yCAEoB;AACnB,WAAKR,QAAL;AACAO,MAAAA,OAAO,CAACC,GAAR,CAAY,oBAAZ;AACD;;;2CAEsB;AACrB,WAAKP,KAAL,IAAcW,YAAY,CAAC,KAAKX,KAAN,CAA1B;AACAM,MAAAA,OAAO,CAACC,GAAR,CAAY,wBAAZ,EAAsC,eAAtC;AACD;;;6BAuBQ;AAAA,wBACqD,KAAKF,KAD1D;AAAA,0CACCD,KADD;AAAA,UACUZ,KADV,qBACUA,KADV;AAAA,UACiBE,OADjB,qBACiBA,OADjB;AAAA,UAC0BE,OAD1B,qBAC0BA,OAD1B;AAAA,UACmCE,IADnC,qBACmCA,IADnC;AAAA,UAC2CY,KAD3C,eAC2CA,KAD3C;AAEPJ,MAAAA,OAAO,CAACC,GAAR,CAAY,QAAZ;AACA,aACE;AAAK,QAAA,SAAS,EAAErB,UAAU,CAAC,OAAD,EAAUwB,KAAV,CAA1B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mBAAgDlB,KAAhD,gBAA2DE,OAA3D,gBAAwEE,OAAxE,cAAmFE,IAAnF,EADF;AAGD;;;6CA1D+BV,K,EAAOiB,K,EAAO;AAC5CC,MAAAA,OAAO,CAACC,GAAR,CAAY,4BAAZ,EAA0C,eAA1C;;AACA,UAAInB,KAAK,CAACsB,KAAN,KAAgBL,KAAK,CAACK,KAA1B,EAAiC;AAC/B,iCACKL,KADL;AAEEK,UAAAA,KAAK,EAAEtB,KAAK,CAACsB;AAFf;AAID;AACF;;;;EAlBiBzB,KAAK,CAAC2B,S;;AAuE1B,eAAezB,KAAf","sourcesContent":["import React from 'react';\nimport classNames from 'classnames';\nimport './Clock.less';\n\nclass Clock extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      clock: this.getClock()\n    }\n    console.log('%cconstructor', 'color:#45a162');\n  }\n\n  //enable a component to update its internal state as the result of changes in props\n  static getDerivedStateFromProps(props, state) {\n    console.log('%cgetDerivedStateFromProps', 'color:#ffb934');\n    if (props.color !== state.color) {\n      return {\n        ...state,\n        color: props.color\n      }\n    }\n  }\n\n  //only exists as a performance optimization, use PureComponent(shallow comparison of props and state)\n  shouldComponentUpdate(nextProps, nextState) {\n    console.log('%cshouldComponentUpdate', 'color:#ffb934');\n    return nextProps.color !== this.props.color;\n  }\n\n  componentDidMount() {\n    this.setTimer();\n    console.log('%ccomponentDidMount', 'color:#45a162');\n  }\n\n  componentDidUpdate() {\n    this.setTimer();\n    console.log('componentDidUpdate');\n  }\n\n  componentWillUnmount() {\n    this.timer && clearTimeout(this.timer);\n    console.log('%ccomponentWillUnmount', 'color:#45a162');\n  }\n  \n\n  getClock = () => {\n    const currentTime = new Date();\n    return {\n      hours: currentTime.getHours(),\n      minutes: currentTime.getMinutes(),\n      seconds: currentTime.getSeconds(),\n      ampm: currentTime.getHours() >= 12 ? \"pm\" : \"am\"\n    };\n  }\n\n  setTimer = () => {\n    this.timer = setTimeout(this.updateClock, 1000);\n  }\n\n  updateClock = () => {\n    this.setState({\n      clock: this.getClock()\n    })\n  }\n\n  render() {\n    const { clock: { hours, minutes, seconds, ampm }, color } = this.state;\n    console.log('render');\n    return (\n      <div className={classNames('clock', color)}>{`${hours} : ${minutes} : ${seconds} ${ampm}`}</div>\n    );\n  }\n}\n\nexport default Clock;"]},"metadata":{},"sourceType":"module"}